<center>
	<div class="searchBar searchPage">
		<div id="orangeBG" class="searchPage">
			<form novalidate>

				<input class="jobSearchForm searchPage" ng-model="query" placeholder="Hitta ett jobb" autofocus="autofocus"></input>
				<span id="searchBarIcon" class="searchPage"></span>
				<button class="searchButton searchPage" ng-click="search(query, sida)">SÖK</button>

				<div class="filters">
					<select ng-show="counties" class="dropdown searchFilter" ng-options="county.namn for county in counties" ng-model="selectedCounty" ng-change="updateSearchOptions('lanid', getSelectedID('county'))">
						<option value="" disabled selected>Välj län...</option>
					</select>
					<select ng-show="countySelected()" class="dropdown searchFilter" ng-options="municipality.namn for municipality in municipalties" ng-model="selectedMunicipality" ng-change="updateSearchOptions('kommunid', getSelectedID('municipality'))">
						<option value="" disabled selected>Välj kommun...</option>
					</select>
					<select ng-show="linesOfWork" class="dropdown searchFilter" ng-options="lineOfWork.namn for lineOfWork in linesOfWork" ng-model="selectedLineOfWork" ng-change="updateSearchOptions('yrkesomradeid', getSelectedID('lineOfWork'))">
						<option value="" disabled selected>Välj yrkesområde...</option>
					</select>
					<select ng-show="lineOfWorkSelected()" class="dropdown searchFilter" ng-options="profession.namn for profession in professions" ng-model="selectedProfession" ng-change="updateSearchOptions('yrkesgruppid', getSelectedID('professionGroup'))">
						<option value="" disabled selected>Välj yrkesgrupp...</option>
					</select>
				</div>

				<button class="searchButton filterButton searchPage" ng-click="toggleFilter()">FILTRERA<br/><span id="filterToggleArrow" class="glyphicon glyphicon-chevron-down"></span></button>

				<button class="searchButton filterButton searchPage" ng-click="resetFilters()"> Återställ filter </button>

				<!-- Loading spinner -->
				<div class="spinner" ng-show="loading">
					<div class="spinner-container container1">
						<div class="circle1"></div>
						<div class="circle2"></div>
						<div class="circle3"></div>
						<div class="circle4"></div>
					</div>
					<div class="spinner-container container2">
						<div class="circle1"></div>
						<div class="circle2"></div>
						<div class="circle3"></div>
						<div class="circle4"></div>
					</div>
					<div class="spinner-container container3">
						<div class="circle1"></div>
						<div class="circle2"></div>
						<div class="circle3"></div>
						<div class="circle4"></div>
					</div>
				</div>

			</form>
		</div>
	</div>
	<br/>
	<div ng-show="showingResults() || forceShowResults" id="numSearchResults">
		<h4>Antal sökträffar: {{ antalAnnonser() }}</h4>
	</div>
</center>

<div class="jobsContainer">
	<div ng-repeat="job in jobs()">
		<a ng-href="#/job" ng-click="addPending(job.annonsid)">
			<div class="jobBlock">
				<p>
					<h4>
						<small>
							{{ job.kommunnamn }}
						</small> 
						{{ job.arbetsplatsnamn }}
					</h4>
					{{ job.annonsrubrik }}
				</p>
				<div class="publishDate">
					Publicerad {{ job.publiceraddatum | date:'yyyy-MM-dd' }}
				</div>
			</div>
		</a>
	</div>
</div>

